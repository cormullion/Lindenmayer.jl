<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Lindenmayer.jl · Lindenmayer</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.png" alt="Lindenmayer logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href>Lindenmayer</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Lindenmayer.jl</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Drawing-LSystems"><span>Drawing LSystems</span></a></li><li><a class="tocitem" href="#Rules"><span>Rules</span></a></li><li><a class="tocitem" href="#Arbitrary-functions"><span>Arbitrary functions</span></a></li><li><a class="tocitem" href="#Debugging"><span>Debugging</span></a></li></ul></li><li><a class="tocitem" href="examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Lindenmayer.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Lindenmayer.jl</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/cormullion/Lindenmayer.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Lindenmayer.jl"><a class="docs-heading-anchor" href="#Lindenmayer.jl">Lindenmayer.jl</a><a id="Lindenmayer.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Lindenmayer.jl" title="Permalink"></a></h1><p>This is a very simple package that draws LSystems.</p><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>An LSystem, or Lindenmayer system, is a set of rules that can define recursive patterns.</p><p>L-systems were introduced and developed in 1968 by Aristid Lindenmayer, a Hungarian theoretical biologist and botanist at the University of Utrecht. Lindenmayer used L-systems to describe the behaviour of plant cells and to model the growth processes of plant development. L-systems have also been used to model the morphology of a variety of organisms and can be used to generate self-similar fractals such as iterated function systems.</p><p>In Lindenmayer.jl you can define an L-System like this:</p><pre><code class="nohighlight hljs">sierpinski_triangle = LSystem(Dict(
    &quot;F&quot; =&gt; &quot;G+F+Gt&quot;,
    &quot;G&quot; =&gt; &quot;F-G-F&quot;),
    &quot;G&quot;)</code></pre><p>(this one has two rules, and an initial state), and draw it like this:</p><pre><code class="nohighlight hljs">drawLSystem(sierpinski_triangle, forward=30, turn=60, iterations=6)</code></pre><p>For example:</p><pre><code class="language-julia hljs">using Lindenmayer
sierpinski_triangle  = LSystem(Dict(
    &quot;F&quot; =&gt; &quot;G+F+Gt&quot;,
    &quot;G&quot; =&gt; &quot;7F-G-F&quot;),
    &quot;G&quot;)

drawLSystem(sierpinski_triangle,
    forward     = 10,
    turn        = 60,
    iterations  = 6,
    startingx   = -300,
    startingy   = -300,
    filename    = &quot;assets/figures/sierpinski_triangle.svg&quot;,
    showpreview = false)</code></pre><p><img src="assets/figures/sierpinski_triangle.svg" alt="sierpinski triangle"/></p><p>In Lindenmayer.jl, an LSystem consists of:</p><ul><li><p>Rules: a dictionary of transformation rules that replace a character with one or more characters</p></li><li><p>Initial state: the initial state for the system (also called &quot;the Axiom&quot;)</p></li><li><p>State: the current evolved state (initially empty, added when the system is evaluated)</p></li></ul><p>You define an L-System like this:</p><pre><code class="nohighlight hljs">sierpinski_triangle = LSystem(Dict(
    &quot;F&quot; =&gt; &quot;G+F+G&quot;,
    &quot;G&quot; =&gt; &quot;F-G-F&quot;),
    &quot;G&quot;)</code></pre><p>This LSystem has two rules. The first rule says replace &quot;F&quot; with &quot;G+F+Gt&quot; at every iteration. Rule 2 says replace &quot;G&quot; with &quot;F-G-F&quot; at every iteration. We start off with an initial state consisting of just a single &quot;G&quot;.</p><p>So the system grows like this:</p><pre><code class="nohighlight hljs">1: G
2: (F-G-F)
3: (G+F+G)-(F-G-F)-(G+F+G)
4: (F-G-F)+(G+F+G)+(F-G-F)-(G+F+G)-(F-G-F)-(G+F+G)-(F-G-F)+(G+F+G)+(F-G-F)
5: (G+F+G)-(F-G-F)-(G+F+G)+(F-G-F)+(G+F+G)+(F-G-F)+(G+F+G)-(F-G-F)-(G+F+G)-(F-G-F)+(G+F+G)+(F-G-F)-(G+F+G)-(F-G-F)-(G+F+G)-(F-G-F)+(G+F+G)+(F-G-F)-(G+F+G)-(F-G-F)-(G+F+G)+(F-G-F)+(G+F+G)+(F-G-F)+(G+F+G)-(F-G-F)-(G+F+G)
6: (F-G-F)+(G+F+G)+(F-G-F)-(G+F+G)-(F-G-F)-(G+F+G)-(F-G-F)+(G+F+G)+(F-G-F)+(G+F+G)-(F-G-F)-(G+F+G)+(F-G-F)+(G+F+G)+(F-G-F)+(G+F+G)-(F-G-F)-(G+F+G)+(F-G-F)+(G+F+G)+(F-G-F)-(G+F+G)-(F-G-F)-(G+F+G)-(F-G-F)+(G+F+G)+(F-G-F)-(G+F+G)-(F-G-F)-(G+F+G)+(F-G-F)+(G+F+G)+(F-G-F)+(G+F+G)-(F-G-F)-(G+F+G)-(F-G-F)+(G+F+G)+(F-G-F)-(G+F+G)-(F-G-F)-(G+F+G)-(F-G-F)+(G+F+G)+(F-G-F)-(G+F+G)-(F-G-F)-(G+F+G)+(F-G-F)+(G+F+G)+(F-G-F)+(G+F+G)-(F-G-F)-(G+F+G)-(F-G-F)+(G+F+G)+(F-G-F)-(G+F+G)-(F-G-F)-(G+F+G)-(F-G-F)+(G+F+G)+(F-G-F)+(G+F+G)-(F-G-F)-(G+F+G)+(F-G-F)+(G+F+G)+(F-G-F)+(G+F+G)-F-G-F-(G+F+G)+F-G-F+(G+F+G)+F-G-F-(G+F+G)-F-G-F-(G+F+G)-F-G-F+(G+F+G)+F-G-F... etc.</code></pre><p>and afer only a few iterations the state consists of thousands of instructions.</p><p>When the LSystem is drawn, the characters in the rule are interpreted as instructions or commands to move a Luxor.jl turtle. So, for example:</p><ul><li><p>&quot;F&quot; and &quot;G&quot; both convert to &quot;Luxor.Forward()&quot;</p></li><li><p>&quot;+&quot; rotates clockwise</p></li><li><p>&quot;-&quot; rotates counterclockwise</p></li><li><p>&quot;5&quot; specifies a 5 pt thick line</p></li><li><p>&quot;t&quot; shifts the pen&#39;s hue color by 5°</p></li></ul><p>and so on. The actual distance moved by &quot;F&quot; and &quot;G&quot; instructions, the angle of the turn, and other starting parameters, are specified when you evaluate the LSystem.</p><p>You can use any of the unused characters as placeholders or variables. For example, this Hilbert LSystem uses L and R, which don&#39;t do anything on their own - but they do insert plenty of &quot;F&quot;, &quot;+&quot;, and &quot;-&quot; commands.</p><pre><code class="nohighlight hljs">hilbert_curve = LSystem(Dict(
   &quot;L&quot; =&gt; &quot;+RF-LFL-FR+&quot;,
   &quot;R&quot; =&gt; &quot;-LF+RFR+FL-&quot;),
   &quot;3L&quot;) # 90°</code></pre><h2 id="Drawing-LSystems"><a class="docs-heading-anchor" href="#Drawing-LSystems">Drawing LSystems</a><a id="Drawing-LSystems-1"></a><a class="docs-heading-anchor-permalink" href="#Drawing-LSystems" title="Permalink"></a></h2><p>To evaluate and draw the LSystem, use <code>drawLSystem()</code>.</p><pre><code class="language-julia hljs">drawLSystem(LSystem(Dict(&quot;F&quot; =&gt; &quot;5F+F--F+Ftt&quot;), &quot;F&quot;),
    startingx = -400,
    forward = 4,
    turn = 80,
    iterations = 6)</code></pre><p>Keyword options and defaults for <code>drawLSystem</code> are:</p><pre><code class="language-julia hljs">forward              = 15,
turn                 = 45,
iterations           = 10,
filename             = &quot;/tmp/lsystem.png&quot;,
width                = 800,
height               = 800,
startingpen          = (0.3, 0.6, 0.8), # starting color RGB
startingx            = 0,
startingy            = 0,
startingorientation  = 0,
backgroundcolor      = colorant&quot;black&quot;,
asteriskfunction     = (t::Turtle) -&gt; (),
showpreview          = true)</code></pre><h2 id="Rules"><a class="docs-heading-anchor" href="#Rules">Rules</a><a id="Rules-1"></a><a class="docs-heading-anchor-permalink" href="#Rules" title="Permalink"></a></h2><p>The following characters are recognized in LSystem rules.</p><table><tr><th style="text-align: right">Character</th><th style="text-align: right">Function</th></tr><tr><td style="text-align: right">F</td><td style="text-align: right">step Forward</td></tr><tr><td style="text-align: right">G</td><td style="text-align: right">same as F</td></tr><tr><td style="text-align: right">B</td><td style="text-align: right">step backwards</td></tr><tr><td style="text-align: right">V</td><td style="text-align: right">same as B</td></tr><tr><td style="text-align: right">f</td><td style="text-align: right">half a step forward</td></tr><tr><td style="text-align: right">b</td><td style="text-align: right">turn 180° and take half a step forward</td></tr><tr><td style="text-align: right">U</td><td style="text-align: right">lift the pen (stop drawing)</td></tr><tr><td style="text-align: right">D</td><td style="text-align: right">pen down (start drawing)</td></tr><tr><td style="text-align: right">+</td><td style="text-align: right">turn by angle (degrees!)</td></tr><tr><td style="text-align: right">-</td><td style="text-align: right">turn backwards by angle</td></tr><tr><td style="text-align: right">r</td><td style="text-align: right">turn randomly by 10° 15° 30° 45° or 60°</td></tr><tr><td style="text-align: right">T</td><td style="text-align: right">change the hue at random</td></tr><tr><td style="text-align: right">t</td><td style="text-align: right">shift the hue by 5°</td></tr><tr><td style="text-align: right">c</td><td style="text-align: right">randomize the saturation</td></tr><tr><td style="text-align: right">O</td><td style="text-align: right">choose a random opacity value</td></tr><tr><td style="text-align: right">l</td><td style="text-align: right">increase the step size by 1</td></tr><tr><td style="text-align: right">s</td><td style="text-align: right">decrease the step size by 1</td></tr><tr><td style="text-align: right">9</td><td style="text-align: right">set line width to 9</td></tr><tr><td style="text-align: right">8</td><td style="text-align: right">set line width to 8</td></tr><tr><td style="text-align: right">7</td><td style="text-align: right">set line width to 7</td></tr><tr><td style="text-align: right">6</td><td style="text-align: right">set line width to 6</td></tr><tr><td style="text-align: right">5</td><td style="text-align: right">set line width to 5</td></tr><tr><td style="text-align: right">4</td><td style="text-align: right">set line width to 4</td></tr><tr><td style="text-align: right">3</td><td style="text-align: right">set line width to 3</td></tr><tr><td style="text-align: right">2</td><td style="text-align: right">set line width to 2</td></tr><tr><td style="text-align: right">1</td><td style="text-align: right">set line width to 1</td></tr><tr><td style="text-align: right">n</td><td style="text-align: right">set line width to 0.5</td></tr><tr><td style="text-align: right">o</td><td style="text-align: right">draw a circle with radius step/4</td></tr><tr><td style="text-align: right">q</td><td style="text-align: right">draw a square with side length step/4</td></tr><tr><td style="text-align: right">@</td><td style="text-align: right">turn 5°</td></tr><tr><td style="text-align: right">&amp;</td><td style="text-align: right">turn -5°</td></tr><tr><td style="text-align: right">[</td><td style="text-align: right">push the current state on the stack</td></tr><tr><td style="text-align: right">]</td><td style="text-align: right">pop the current state off the stack</td></tr><tr><td style="text-align: right">*</td><td style="text-align: right">execute the supplied function</td></tr></table><h2 id="Arbitrary-functions"><a class="docs-heading-anchor" href="#Arbitrary-functions">Arbitrary functions</a><a id="Arbitrary-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Arbitrary-functions" title="Permalink"></a></h2><p>You can use one external function in an LSystem. Whenever you include the <code>*</code> character in a rule, a function passed to <code>drawLSystem()</code> using the keyword option <code>asteriskfunction</code> will be called. This function accesses the Luxor turtle that&#39;s currently busy drawing the LSystem.</p><p>In the following example, the asterisk function <code>f(t::Turtle)</code> passed to <code>drawLSystem()</code> is a bit disruptive. It changes the line width, sets the color, and then draws a group of rescaled pentagons at the turtle&#39;s current location and other rotationally symmetrical places. Then, it sets the opacity to 0. The turtle never realises this and never resets it (the <code>t</code> hue-shifting rule uses <code>Luxor.sethue()</code> which doesn&#39;t change the current opacity). So all the lines drawn by the turtle are completely transparent, leaving just the pentagons visible.</p><pre><code class="language-julia hljs">using Lindenmayer, Luxor, Colors

recursive = LSystem(Dict(
   &quot;F&quot; =&gt; &quot;G+F+G6t&quot;,
   &quot;G&quot; =&gt; &quot;F*-G-F&quot;),
   &quot;G2&quot;)

f(t::Turtle) = begin
    p = Point(t.xpos, t.ypos)
    setline(3)
    setopacity(1)
    setcolor(HSB(rand(0:359), 0.7, 0.7))
    for i in 0:4
        @layer begin
            rotate(i * deg2rad(72))
            ngon(p, rescale(distance(p, O), 1, 1000, 3, 20), 5, 0, :stroke)
        end
    end
    setopacity(0.0)
end

drawLSystem(recursive,
    forward=25,
    turn=72,
    iterations= 7,
    startingx = 0,
    startingy = 0,
    width=2000,
    height=2000,
    backgroundcolor = RGB(0.1, 0.05, 0.15),
    filename=&quot;assets/figures/recursive.png&quot;,
    asteriskfunction = f)</code></pre><p><img src="assets/figures/recursive.png" alt="stars"/></p><h2 id="Debugging"><a class="docs-heading-anchor" href="#Debugging">Debugging</a><a id="Debugging-1"></a><a class="docs-heading-anchor-permalink" href="#Debugging" title="Permalink"></a></h2><p>To debug:</p><pre><code class="nohighlight hljs">ENV[&quot;JULIA_DEBUG&quot;] = Lindenmayer</code></pre><article class="docstring"><header><a class="docstring-binding" id="Lindenmayer.LSystem" href="#Lindenmayer.LSystem"><code>Lindenmayer.LSystem</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A Lindenmayer system is a set of rules that can define recursive patterns. In Lindenmayer.jl, an LSystem consists of:</p><ul><li><p>Rules: a dictionary of transformation rules that replace a</p></li><li><p>character with one or more characters</p></li><li><p>Initial state: the initial state for the system (also</p></li><li><p>called &quot;the Axiom&quot;)</p></li><li><p>State: the current evolved state (initially empty, added</p></li><li><p>when the system is evaluated)</p></li></ul><p>You can define an L-System like this:</p><pre><code class="nohighlight hljs">using Lindenmayer
koch = LSystem(Dict(&quot;F&quot; =&gt; &quot;F+F--F+F&quot;), &quot;F&quot;)</code></pre><p><strong>Extended help</strong></p><p>This says: there&#39;s just one rule; replace &quot;F&quot; with &quot;F+F–F+F&quot; for each iteration. And start off with an initial state consisting of just a single &quot;F&quot;.</p><p>To draw the LSystem we use Luxor.jl&#39;s Turtle, which interprets the characters in the rule as instructions or commands. For example, &quot;F&quot; converts to &quot;Luxor.Forward()&quot;. &quot;+&quot; rotates clockwise, &quot;-&quot; rotates counterclockwise, and so on.</p><pre><code class="nohighlight hljs">drawLSystem(LSystem(Dict(&quot;F&quot; =&gt; &quot;5F+F--F+Ftt&quot;), &quot;F&quot;),
    startingx = -400,
    forward = 4,
    turn = 80,
    iterations = 6)</code></pre><p>Keyword options for <code>drawLSystem</code> include:</p><pre><code class="nohighlight hljs">forward=15,
turn=45,
iterations=6,
filename=&quot;/tmp/lsystem.pdf&quot;,
width=1000,
height=1000,
startingpen=(0.3, 0.6, 0.8), # starting color RGB
startingx=0,
startingy=0,
startingorientation=0,
showpreview=true</code></pre><p>The following characters are recognized in LSystem rules.</p><p>F - step Forward</p><p>G - same as F</p><p>B - step backwards</p><p>V - same as B</p><p>f - half a step forward</p><p>b - turn 180° and take half a step forward</p><p>U - lift the pen (stop drawing)</p><p>D - pen down (start drawing)</p><p><code>+</code> - turn by angle</p><p><code>-</code> - turn backwards by angle</p><p>r - turn randomly by 10° 15° 30° 45° or 60°</p><p>T - change the hue at random</p><p>t - shift the hue by 5°</p><p>c - randomize the saturation</p><p>O - choose a random opacity value</p><p>l - increase the step size by 1</p><p>s - decrease the step size by 1</p><p>5 - set line width to 5</p><p>4 - set line width to 4</p><p>3 - set line width to 3</p><p>2 - set line width to 2</p><p>1 - set line width to 1</p><p>n - set line width to 0.5</p><p>o - draw a circle with radius step/4</p><p>q - draw a square with side length step/4</p><p><code>@</code> - turn 5°</p><p><code>&amp;</code> - turn -5°</p><p>[ - push the current state on the stack</p><p>] - pop the current state off the stack</p><p><code>*</code> - execute the arbitrary passed as <code>asteriskfunction()</code> ```</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cormullion/Lindenmayer.jl/blob/d27aed4fdb3c593cb102bc812bb65e59b7f2923e/src/Lindenmayer.jl#L23-L142">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Lindenmayer.drawLSystem" href="#Lindenmayer.drawLSystem"><code>Lindenmayer.drawLSystem</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">drawLSystem(lsystem::LSystem ;
       # optional settings:
       forward=15,
       turn=45,
       iterations=10,
       filename=&quot;lsystem.png&quot;,
       width=800,
       height=800,
       startingpen=(0.3, 0.6, 0.8), # starting color RGB
       startingx=0,
       startingy=0,
       startingorientation=0,
       showpreview=true,
       backgroundcolor = colorant&quot;black&quot;,
       asteriskfunction = (t::Luxor.Turtle) -&gt; ())</code></pre><p>Draw a Lindenmayer system. <code>lsystem</code> is the definition of a L-System (rules followed by initial state).</p><p>For example:</p><pre><code class="nohighlight hljs">newsystem = LSystem(Dict(&quot;F&quot; =&gt; &quot;AGCFCGAT&quot;, &quot;G&quot; =&gt; &quot;CFAGAFC&quot;), &quot;F&quot;)</code></pre><p>You can change or add rules like this:</p><pre><code class="nohighlight hljs">newsystem.rules[&quot;F&quot;] = &quot;OFO&quot;</code></pre><p>You can vary the line width using Turtle commands &quot;1&quot; ... &quot;9&quot; to select the appropriate line width (in points), or &quot;n&quot; to choose a narrow 0.5.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cormullion/Lindenmayer.jl/blob/d27aed4fdb3c593cb102bc812bb65e59b7f2923e/src/Lindenmayer.jl#L284-L319">source</a></section></article><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Documentation built 2023-07-09T08:43:15.083 with Julia 1.9.2 on Linux</code></pre></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Sunday 9 July 2023 08:43">Sunday 9 July 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
